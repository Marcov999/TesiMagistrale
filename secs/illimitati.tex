Vediamo adesso i risultati del preprint \cite{BZ2} sui domini illimitati; continuando quanto fatto finora, punteremo a generalizzare questi risultati,\marginpar{Forse dovrei chiamare la sezione ``Sottovarietà non relativamente compatte''?} arrivando a un teorema di tipo ``Wolff-Denjoy'' per sottovarietà taut e con visibilità, ma non necessariamente relativamente compatte.

Come si può facilmente vedere pensando all'esempio della mappa $z\longmapsto z+1$ nel semipiano superiore $\mathbb{H}=\{z\in\mathbb{C}\mid\mathfrak{Im}z>0\}$, restringerci ai punti del bordo non sarà sufficiente. In questo caso, grazie a un biolomorfismo con $\mathbb{D}$ ci possiamo ricondurre al Teorema di Wolff-Denjoy originale; troviamo così che il limite è un punto di $\partial\mathbb{D}$ nel quale non possiamo estendere il biolomorfismo. È dunque chiaro che i risultati che vogliamo andare a studiare dipendono da come il dominio o la sottovarietà si immergano nella varietà ambiente, e in generale non possiamo aspettarci di avere sempre un bordo sufficientemente ricco per descrivere la dinamica delle iterate di funzioni olomorfe.

Dobbiamo dunque estendere la nostra varietà come spazio topologico. Il modo giusto di farlo per ritrovare un teorema di tipo ``Wolff-Denjoy'' è la end compactification. Il concetto fondamentale per definire la end compactification è quello di end, definito da Freudenthal in \cite{F}. Diamo la definizione data in \cite[Chapter 1, Problem 19]{Sp}.

\begin{defn} \label{end}
    Sia $X$ uno spazio topologico non compatto. Una \textit{end} di $X$ è una funzione $e$ con dominio $\{K\subseteq X\mid K\text{ è comatto}\}$ tale che:
    \begin{nlist}
        \item a ogni compatto $K\subseteq X$ associa una componente connessa non vuota di $X\setminus K$;
        \item per ogni coppia di compatti $K_1\subseteq K_2\subseteq X$ si ha $e(K_2)\subseteq e(K_1)$.
    \end{nlist}
    Indichiamo con $\mathcal{E}(X)$ l'insieme di tutte le end di $X$.
\end{defn}

\begin{oss} \label{endnonrelcpt}
    Dato un compatto $K\subseteq X$, se una componente connessa $C$ di $X\setminus K$ è relativamente compatta in $X$, non si potrà mai avere $e(K)=C$; altrimenti, non potrebbe essere soddisfatta la condizione (ii) nella Definizione \ref{end} con $K$ e $K\cup\overline{C}$.
\end{oss}

Intuitivamente, una end è un modo di scegliere, andando all'infinito, ``da che parte andare''. Un esempio semplice per capire quest'interpretazione è l'albero binario infinito (lo si può pensare come un sottospazio di $\mathbb{R}^2$), dove a ogni livello ci troviamo in un nodo e abbiamo due possibili strade tra cui scegliere; poiché i livelli sono numerabili, è facile vedere che la cardinalità delle end è quella del continuo.

\begin{oss}
    Supponiamo che $X$ ammetta un'esaustione in compatti, cioè che esista una successione $\{K_n\}_{n\in\mathbb{N}}$ tale che $K_n\subseteq{\mathop K\limits^ \circ}_{n+1}$ per ogni $n$ e che $\displaystyle\bigcup_{n=1}^{+\infty} K_n=X$; nei casi che studieremo $X$ sarà sempre una varietà connessa, per cui ammetterà un'esaustione in compatti. Allora una end $e$ è univocamente detereminata dalle sue immagini sui $K_n$ (segue facilmente dalle proprietà della end e da quelle dell'esaustione). Quindi, nel seguito, ci basterà fissare un'esaustione in compatti e lavorare con quella.
\end{oss}

Vogliamo ora mettere una topologia su $X^\mathcal{E}:=X\cup\mathcal{E}(X)$ che lo renda uno spazio compatto. Sebbene le end sono state definite con questo scopo in mente, sono comunque necessarie delle ipotesi. Si tratta di ipotesi che in generale sono soddisfatte da varietà astratte, ma poiché ci interesserà compattificare la chiusura di una sottovarietà dovremo prestare attenzione a un'ipotesi in particolare; si vedano l'Osservazione \ref{servelocconn} e l'Esempio \ref{servelocconnex}.

\begin{prop} \label{endiscpt}
    (\cite[Chapter 1, Problem 19]{Sp})\marginpar{Di nuovo cito un esercizio... quando avevo cercato la dim., l'unica che avevo trovato era online; può darsi che si trovi in \cite{F}, ma non so il tedesco} Sia $X$ uno spazio topologico connesso, localmente connesso, compatto e di Hausdorff. Mettiamo su $X^\mathcal{E}$ la topologia generata dalla topologia di $X$ e dai seguenti intorni per $e\in\mathcal{E}(X)$ al variare di $K\subseteq X$ compatto:
    $$N_K(e)=e(K)\cup\{f\in\mathcal{E}(X)\mid f(K)=e(K)\};$$
    allora $X\cup\mathcal{E}(X)$ è uno spazio compatto e di Hausdorff.
\end{prop}

\begin{oss} \label{endiscptsucc}
    Se $X$ ammette un'esaustione in compatti $\{K_n\}_{n\in\mathbb{N}}$, ponendo $U_n^e=N_{K_n}(e)$ si ha che $\{U_n^e\}_{n\in\mathbb{N}}$ è un sistema fondamentale di intorni per $e$. Allora, se è anche primo numerabile e soddisfa le ipotesi della Proposizione \ref{endiscpt}, si ha che $X^\mathcal{E}$ è compatto e primo numerabile, per cui è compatto per successioni.
\end{oss}

\begin{oss} \label{servelocconn}
    Come già accennato, data $X$ sottovarietà connessa di una varietà $Y$, andremo a studiare $\overline{X}^\mathcal{E}$. In tal caso, è facile verificare tutte le ipotesi della Proposizione \ref{endiscpt} tranne una: la locale connessione. Il motivo è perché in generale non è vera, come vedremo nell'esempio seguente.
\end{oss}

\begin{ex} \label{servelocconnex}
    Si consideri l'embedding di $(0,1)$ in $\mathbb{R}^2$ dato dalla funzione $x\longmapsto \sin(1/x)/x$. A meno di considerarne un ``ispessimento'' che diventa sempre più piccolo al tendere di $x$ a $0$, possiamo anche renderlo un dominio proprio e semplicemente connesso $\Omega$ di $\mathbb{C}$ (dunque biolomorfo a $\mathbb{D}$) avente bordo liscio al di fuori dell'asse immaginario.

    Il sottospazio $\overline{\Omega}$ non è localmente connesso. Ragionando come nell'Osservazione \ref{endiscptsucc}, $\overline{\Omega}^\mathcal{E}$ è primo numerabile. Per vedere che non vale la Proposizione \ref{endiscpt}, ci basta dunque vedere che non è compatto per successioni. Consideriamo allora una successione di punti contenuti nelle ``gobbe''. Questa chiaramente non ammette sottosuccessioni convergenti in $\overline{\Omega}$. Tuttavia, per l'Osservazione \ref{endnonrelcpt} non ammette nemmeno sottosuccessioni convergenti a un punto di $\mathcal{E}(\overline{\Omega})$; infatti, poiché ogni esaustione in compatti prima o poi dovrà coprire il compatto $\overline{\Omega}\cap[0,1]$, le uniche componenti connesse non relativamente compatte dei complementari dei compatti saranno, definitivamente, due semirette dell'asse immaginario. È chiaro però che nessun punto della successione vi può appartenere, ma dato che queste semirette, unite alle opportune end, formano un sistema fondamentale di intorni per le end stesse, segue che non ci sono nemmeno sottosuccessioni convergenti a una end.
\end{ex}

Possiamo ora estendere il concetto di visibilità a sottovarietà connesse non relativamente compatte.

\begin{defn} \label{ultravisibility}
    Sia $X$ una sottovarietà complessa e connessa di una varietà complessa $Y$. Supponiamo che $\overline{X}$ sia localmente connessa e definiamo il \textit{bordo end} come ${\partial^\mathcal{E}X:=\partial_YX\cup\mathcal{E}(X)}$. Fissiamo $\lambda \ge 1$ e $\kappa \ge 0$; diciamo che $X$ è \textit{$(\lambda,\kappa)$-ultravisibile} se:
    \begin{enumerate}
        \item ogni due punti distinti di $X$ possono essere collegati da una $(\lambda,\kappa)$-simil-geodetica;
        \item per ogni coppia di punti $\xi,\eta\in\partial^\mathcal{E}X$ con $\xi\not=\eta$, esistono in $\overline{X}^\mathcal{E}$ due intorni $V_\xi$ e $V_\eta$, di $\xi$ e $\eta$ rispettivamente, con chiusura disgiunta, e un compatto $K$ di $X$ tali che  ogni $(\lambda,\kappa)$-simil-geodetica in $X$ che collega un punto di $V_\xi$ a un punto di $V_\eta$ interseca $K$.
    \end{enumerate}
\end{defn}

\begin{oss}
    Non escludiamo la possibilità che l'ipotesi che $\overline{X}$ sia localmente connessa sia ridondante, perché potrebbe seguire in qualche modo dalla condizione di ultravisibilità (per esempio, quest'ultima potrebbe implicare una qualche regolarità per $\partial_YX$). Non sappiamo se sia effettivamente vero, e in caso lo sia crediamo che la dimostrazione sia tutt'altro che semplice.
    
    Facciamo però notare che per l'Esempio \ref{servelocconnex}, sfruttando un biolomorfismo\marginpar{Esiste?} con $\mathbb{D}$ esteso ai punti regolari del bordo, si può mostrare che non vale la condizione di ultravisibilità. Esistono\marginpar{Serve una reference} anche esempi, sempre ispirati al seno del topologo, di domini limitati di $\mathbb{C}$ biolomorfi a $\mathbb{D}$ per i quali non vale l'analogo del teorema di Wolff-Denjoy; dal Corollario \ref{wd_type} segue che non soddisfano la condizione di visibilità, in quanto è facile verificare che soddisfano tutte le altre ipotesi.
\end{oss}

Adesso vogliamo dimostrare un teorema di tipo ``Wolff-Denjoy'' per sottovarietà Kobayashi-iperboliche, taut e $(1,\kappa_0)$-ultravisibili. Per farlo, in alcuni punti del nostro ragionamento riadatteremo le dimostrazioni degli enunciati visti nella sezione \ref{Un teorema di tipo ``Wolff-Denjoy'' per varietà taut con visibilità}, ma in altri dovremo ricavarci nuovi risultati.

\begin{lm} \label{limpt}
    Sia $X$ una sottovarietà complessa e connessa di una varietà complessa $Y$. Supponiamo che $\overline{X}$ sia localmente connessa e che esista $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-ultravisibile. Siano $Z$ una varietà Kobayashi-iperbolica e $\{f_n\}_{n\in\mathbb{N}}\subseteq\textnormal{Hol}(Z,X)$ una successione compattamente divergente. Allora esistono $\xi\in\partial^\mathcal{E}X$ e una sottosuccessione $\{f_{n_j}\}_{j\in\mathbb{N}}$ tali che $f_{n_j}(z)\longrightarrow\xi$ per ogni $z\in Z$.
\end{lm}

\begin{proof}
    Sia $z_0\in Z$. Per l'Osservazione \ref{endiscptsucc}, a meno di sottosuccessioni possiamo supporre che esista $\xi_0\in\partial^\mathcal{E}X$ tale che $f_n(z_0)\longrightarrow\xi_0$. Supponiamo per assurdo che esista $z_1\in Z$ tale che la successione $\{f_n(z_1)\}_{n\in\mathbb{N}}$ non converge a $\xi_0$. Considerando una curva continua che collega $z_0$ a $z_1$, si trova facilmente che possiamo eventualmente sostituirli con due punti tali che $k_Z(z_0,z_1)<\kappa_0/2$. Di nuovo a meno di sottosuccessioni, possiamo supporre che esista $\xi_1\in\partial^\mathcal{E}X$ tale che $\xi_1\not=\xi_0$ e $f_n(z_1)\longrightarrow\xi_1$.

    Per il Teorema \ref{similgeo_conn} esiste una $(1,\kappa_0/2)$-simil-geodetica $\sigma:[0,T]\longrightarrow Z$ tale che $\sigma(0)=z_0$ e $\sigma(T)=z_1$. Poniamo $\sigma_n:=f_n\circ\sigma$, vogliamo dimostrare che $\sigma_n$ è una $(1,\kappa_0)$-simil-geodetica per ogni $n$. Per la Proposizione \ref{semicontr} e per la definizione di $(1,\kappa_0/2)$-simil-geodetica, abbiamo che
    $$k_X\big(\sigma_n(s),\sigma_n(t)\big) \le k_Z\big(\sigma(s),\sigma(t)\big) \le |t-s|+\kappa_0/2\le |t-s|+\kappa_0$$
    per ogni $s,t\in[0,T]$. Inoltre, sempre dalla definizione di di $(1,\kappa_0/2)$-simil-geodetica si ha che
    \begin{align*}
        |t-s|-\kappa_0 &\le |0-T|-\kappa_0/2-\kappa_0/2 \le k_Z\big(\sigma(0),\sigma(T)\big)-\kappa_0/2\\
        &=k_Z(z_0,z_1)-\kappa_0/2<0\le k_X\big(\sigma_n(s),\sigma_n(t)\big)
    \end{align*}
    per ogni $s,t\in[0,T]$. Infine, dalla Proposizione \ref{metrdecr} e dalla definizione di $(1,\kappa_0/2)$-simil-geodetica segue che
    $$K_X\big(\sigma_n(t);\sigma_n'(t)\big)\le K_Z\big(\sigma(t);\sigma'(t)\big) \le 1$$
    per ogni $t\in[0,T]$. Dunque $\sigma_n$ è una $(1,\kappa_0)$-simil-geodetica per ogni $n$, come volevamo.

    Adesso, poiché $\sigma_n(0)=f_n(z_0)\longrightarrow\xi_0$ e $\sigma_n(T)=f_n(z_1)\longrightarrow\xi_1$ e $X$ è $(1,\kappa_0)$-ultravisibile, esiste un compatto $K\subseteq X$ tale che
    $$\emptyset\not=K\cap\sigma_n([0,T])=K\cap f_n\big(\sigma([0,T])\big)$$
    per ogni $n$, in contraddizione con l'ipotesi che la successione $\{f_n\}_{n\in\mathbb{N}}$ sia compattamente divergente.
\end{proof}

\begin{prop} \label{unaproppp}
    Sia $X$ una sottovarietà Kobayashi-iperbolica di una varietà complessa $Y$. Supponiamo che $\overline{X}$ sia localmente connessa e che esista $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-ultravisibile. Sia $F\in\textnormal{Hol}(X,X)$ tale che la successione $\{F^n\}_{n\in\mathbb{N}}$ sia compattamente divergente. Allora esiste $\xi\in\partial^\mathcal{E}X$ tale che per ogni funzione $\mu:\mathbb{N}\longrightarrow\mathbb{N}$ strettamente crescente per cui esiste $y_0 \in X$ tale che
    \begin{equation}
        \lim_{j\longrightarrow+\infty} k_X\big(F^{\mu(j)}(y_0),y_0\big)=+\infty
    \end{equation}
    si ha
    \begin{equation}
        \lim_{j\longrightarrow+\infty} F^{\mu(j)}(z)=\xi
    \end{equation}
    per ogni $z \in X$.
\end{prop}

\begin{proof}
    Si ripete la dimostrazione della Proposizione \ref{inf_impl_ugu} con le seguenti modifiche: $\overline{X}^\mathcal{E}$ e $\partial^\mathcal{E}X$ al posto di $\overline{X}$ e $\partial_YX$; ``per compattezza per successioni di $\overline{X}^\mathcal{E}$'' al posto di ``per relativa compattezza di $X$''; ultravisibilità al posto di visibilità; si utilizza il Lemma \ref{limpt} al posto del Lemma \ref{lemmasottosotto1}.
\end{proof}

\begin{lm} \label{nonazeroplease}
    Sia $X$ una sottovarietà Kobayashi-iperbolica di una varietà complessa $Y$. Supponiamo che esista $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-ultravisibile. Siano $\{x_n\}_{n\in\mathbb{N}}$ e $\{y_n\}_{n\in\mathbb{N}}$ due successioni di punti di $X$ tali che $x_n\longrightarrow\xi$ e $y_n\longrightarrow\xi'$, con $\xi,\xi'\in\partial^\mathcal{E}X$ e $\xi\not=\xi'$.
    
    Allora non può essere che $\displaystyle\lim_{n\longrightarrow+\infty}k_X(x_n,y_n)=0$.
\end{lm}

\begin{proof}
    Supponiamo per assurdo che la tesi sia falsa, e prendiamo due successioni che la contraddicono. Per il Teorema \ref{similgeo_conn} possiamo prendere, per ogni $n\in\mathbb{N}$, una $(1,1/n)$-simil-geodetica $\sigma_n:[0,T_n]\longrightarrow X$ tale che $\sigma_n(0)=x_n$ e ${\sigma_n(T_n)=y_n}$. Per $n$ sufficientemente grande sono tutte $(1,\kappa_0)$-simil-geodetiche, per cui esistono un compatto $K\subseteq X$ e $t_n\in[0,T_n]$ tali che $\sigma_n(t_n)\in K$ per ogni $n$. Dato che $X$ è una varietà, possiamo prendere un compatto ${H\subseteq X}$ tale che $K\subseteq{\mathop H\limits^ \circ}$. Allora $\partial^\text{top}H$ e $K$ sono due compatti disgiunti, dove $\partial^\text{top}$ è il bordo topologico in $X$ (chiusura meno parte interna); dunque ${\displaystyle\inf_{\substack{x\in\partial^\text{top}H,\\y\in K}} k_X(x,y)=\epsilon>0}$.

    Poiché $\sigma_n(0)$ e $\sigma_n(T_n)$ convergono a punti del bordo end, per $n$ sufficientemente grande appartengono a $X\setminus H$. Ma $\sigma_n(t_n)\in K\subseteq{\mathop H\limits^ \circ}$; quindi deve esistere $t_n'$ tale che $\sigma_n(t_n')\in\partial H$. Segue che
    \begin{align*}
        0&<\epsilon\le k_X\big(\sigma_n(t_n),\sigma_n(t_n')\big) \le |t_n-t_n'|+1/n\le |0-T_n|+1/n \\
        &\le k_X\big(\sigma_n(0),\sigma_n(T_n)\big)+2/n=k_X(x_n,y_n)+2/n\longrightarrow0,
    \end{align*}
    contraddizione.
\end{proof}

\begin{lm} \label{unaltrosottosotto}
    Sia $X$ una sottovarietà Kobayashi-iperbolica di una varietà complessa $Y$. Supponiamo che $\overline{X}$ sia localmente connessa e che esista $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-ultravisibile. Sia $F\in\textnormal{Hol}(X,X)$ tale che la successione $\{F^n\}_{n\in\mathbb{N}}$ sia compattamente divergente.
    
    Supponiamo che esistano un compatto $K\subseteq X$, una funzione strettamente crescente $\mu:\mathbb{N}\longrightarrow\mathbb{N}$ e $\xi\in\partial^\mathcal{E}X$ tali che per ogni intorno $U$ di $\xi$ in $\overline{X}^\mathcal{E}$ esiste $j_0$ tale che per ogni $j\ge j_0$ si ha $F^{\mu(j)}(K)\subseteq U$. Allora la successione $\{F^{\mu(j)}\}_{j\in\mathbb{N}}$ converge alla costante $\xi$ in $C^0(X,\overline{X}^\mathcal{E})$.
\end{lm}

\begin{proof}
    Supponiamo per assurdo che la tesi non sia vera; esistono dunque un compatto $H\subseteq X$ e un intorno $U$ di $\xi$ in $\overline{X}^\mathcal{E}$ tali che ${F^{\mu(j)}(H)\not\subseteq U}$ frequentemente. Allora esistono una sottosuccessione $\{j_n\}_{n\in\mathbb{N}}\subseteq\mathbb{N}$ e una successione $\{z_n\}_{n\in\mathbb{N}}\subseteq H$ tali che $F^{\mu(j_n)}(z_n)\not\in U$ per ogni $n\in\mathbb{N}$.
    
    A meno di sottosuccessioni, usando il Lemma \ref{limpt} e la compattezza per successioni di $\overline{X}^\mathcal{E}$, possiamo supporre che $z_n\longrightarrow\tilde{z}\in H$, che ${F^{\mu(j_n)}(z)\longrightarrow\tilde{\xi}\in\overline{X}^\mathcal{E}}$ per ogni $z\in X$ e che $F^{\mu(j_n)}(z_n)\longrightarrow\xi'\in\overline{X}^\mathcal{E}$. Dato che $\{F^n\}_{n\in\mathbb{N}}$ è compattamente divergente, dev'essere $\xi'\in\partial^\mathcal{E}X$. Siccome $F^{\mu(j_n)}(z)\longrightarrow\xi$ per ogni $z\in K$, dev'essere $\tilde{\xi}=\xi$. Visto che $F^{\mu(j_n)}(z_n)\not\in U$ per ogni $n\in\mathbb{N}$, dev'essere $\xi\not=\xi'$.

    Adesso notiamo che per la Proposizione \ref{semicontr} si ha
    $$k_X\big(F^{\mu(j_n)}(z_n),F^{\mu(j_n)}(\tilde{z})\big)\le k_X(z_n,\tilde{z})\longrightarrow0$$
    per $n\longrightarrow+\infty$. Basta allora applicare il Lemma \ref{nonazeroplease}, con $x_n=F^{\mu(j_n)}(z_n)$ e $y_n=F^{\mu(j_n)}(\tilde{z})$, per ottenere una contraddizione.
\end{proof}

\begin{lm} \label{estraiunasotto}
    Sia $X$ una sottovarietà Kobayashi-iperbolica di una varietà complessa $Y$. Supponiamo che $\overline{X}$ sia localmente connessa e che esista $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-ultravisibile. Sia $F\in\textnormal{Hol}(X,X)$ tale che la successione $\{F^n\}_{n\in\mathbb{N}}$ sia compattamente divergente.

    Per ogni funzione strettamente crescente $\mu:\mathbb{N}\longrightarrow\mathbb{N}$ esistono $\xi\in\partial^\mathcal{E}X$ e una sottosuccessione $\{j_n\}_{n\in\mathbb{N}}\subseteq\mathbb{N}$ tale che la successione $\{F^{\mu(j_n)}\}_{n\in\mathbb{N}}$ converge alla costante $\xi$ in $C^0(X,\overline{X}^\mathcal{E})$.
\end{lm}

\begin{proof}
    Fissiamo $z_0\in X$. Per la compattezza per successioni di $\overline{X}^\mathcal{E}$ e la divergenza dai compatti di $\{F^n\}_{n\in\mathbb{N}}$, esistono $\xi\in\partial^\mathcal{E}X$ e una sottosuccessione $\{j_n\}_{n\in\mathbb{N}}\subseteq\mathbb{N}$ tali che $F^{\mu(j_n)}(z_0)\longrightarrow\xi$. Allora la successione $\{F^{\mu(j_n)}\}_{n\in\mathbb{N}}$ converge alla costante $\xi$ uniformemente sul compatto $\{z_0\}$. Si conclude applicando il Lemma \ref{unaltrosottosotto}.
\end{proof}

Siamo ora pronti a dimostrare il teorema di tipo ``Wolff-Denjoy'' nel caso non relativamente compatto.

\begin{thm} \label{wd_type_ill}
    Sia $X$ una sottovarietà taut di una varietà complessa $Y$. Supponiamo che $\overline{X}$ sia localmente connessa e che esista $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-ultravisibile.
    
    Sia $F:X \longrightarrow X$ una funzione olomorfa. Allora vale esattamente una delle seguenti affermazioni:
    \begin{itemize}
        \item le orbite dei punti di $X$ tramite $F$ sono relativamente compatte in $X$; oppure,
        \item esiste un unico punto $\xi\in\partial^\mathcal{E}X$ tale che la successione delle iterate di $F$ converge alla costante $\xi$ in $C^0(X,\overline{X}^\mathcal{E})$.
    \end{itemize}
\end{thm}

\begin{proof}
    La dimostrazione ricalca quella del Teorema \ref{wd_type_strong}. Riportiamo gli adattamenti necessari. Ricordiamo che ogni volta che nella dimostrazione del suddetto Teorema compaiono $\overline{X}$, $\partial_YX$ e ``visibilità'', in questa dimostrazione vanno sostituiti con $\overline{X}^\mathcal{E}$, $\partial^\mathcal{E}X$ e ``ultravisibilità''.\\

    Dopo aver applicato il Teorema \ref{dicotomia}, si usano il Lemma \ref{limpt} per dire che l'insieme delle funzioni di limite di $F$ in $C^0(X,\overline{X}^\mathcal{E})$ è composto dalle sole costanti, e il Lemma \ref{estraiunasotto} per dire che è non vuoto. Se, come nella dimostrazione del Teorema \ref{wd_type_strong}, facciamo vedere che è composto da un'unica funzione costante, allora con un semplice assurdo otteniamo che tutta la successione $\{F^n\}_{n\in\mathbb{N}}$ converge a tale costante in $C^0(X,\overline{X}^\mathcal{E})$. Ci resta solo da vedere che l'insieme delle funzioni limite non contiene due funzioni.\\

    Caso 1 della dimostrazione del Teorema \ref{wd_type_strong}: si usa la Proposizione \ref{unaproppp} al posto della Proposizione \ref{inf_impl_ugu}; si usa il Lemma \ref{estraiunasotto} al posto della Proposizione \ref{montel}; si usa il Lemma \ref{unaltrosottosotto} al posto del Lemma \ref{lemmasottosotto2}; al posto di scrivere $d_Y\big(F^{\mu_{j_m}-l_m}(o),\eta\big)<1/m$, dobbiamo dire che $F^{\mu_{j_m}-l_m}(o)\longrightarrow \eta$.\\

    Caso 2: per definire $G_\delta$ nel caso in cui $\xi\in\mathcal{E}(\overline{X})$, si considerano gli $m\in\mathbb{N}$ tali che $F^m(x_1)\in\xi\big(K_{\lfloor1/\delta\rfloor}\cap\overline{X}\big)$, dove $\{K_n\}_{n\in\mathbb{N}}$ è un'esaustione in compatti di $Y$ (la dimostrazione che $\displaystyle\sup_{\delta>0,x_1,x_2\in K}G_\delta(x_1,x_2)<+\infty$ si riadatta facilmente).
    
    Per dire che $\displaystyle\liminf_{z \longrightarrow\eta}\inf_{y\in K}k_X(z,y)>0$ facciamo così: prendiamo un compatto $H\subseteq X$ tale che $K\subseteq{\mathop H\limits^ \circ}$, e osserviamo che la funzione che associa a $x\in K$ la quantità $\inf\left\{y\in X\setminus\mathop H\limits^ \circ\right\}$ è una funzione continua e strettamente positiva su un compatto.

    Il resto della dimostrazione può essere riadattato in modo simile a quanto già detto sopra.
\end{proof}

\begin{oss}
    Notiamo che l'ipotesi che $\overline{X}$ fosse localmente connessa è servita solo per dire che $\overline{X}^\mathcal{E}$ è compatta, mentre altrove l'unica conseguenza è stata un complicamento della dimostrazione. Se dunque supponiamo $X$ relativamente compatta in $Y$, possiamo ripetere le dimostrazioni dei risultati che precedono il Teorema \ref{wd_type_ill}, e poi rifare la dimostrazione del Teorema \ref{wd_type_strong} come vista nella sezione \ref{Un teorema di tipo ``Wolff-Denjoy'' per varietà taut con visibilità} ma usando i suddetti risultati, al più restringendoci a una componente connessa di $Y$. Si trova così la seguente generalizzazione del Teorema \ref{wd_type_strong}.
\end{oss}

\begin{thm} \label{wd_type_ultrastrong}
    Sia $X$ una sottovarietà taut e relativamente compatta di una varietà complessa $Y$. Supponiamo che esista un $\kappa_0>0$ tale che $X$ sia $(1,\kappa_0)$-visibile.
    
    Sia $F:X \longrightarrow X$ una funzione olomorfa. Allora vale esattamente una delle seguenti affermazioni:
    \begin{itemize}
        \item le orbite dei punti di $X$ tramite $F$ sono relativamente compatte in $X$; oppure,
        \item esiste un unico punto di $\partial_YX$ tale che la successione delle iterate di $F$ converge, uniformemente sui compatti, a quel punto.
    \end{itemize}
\end{thm}

Costruiamo adesso un esempio di dominio $\Omega\subseteq\mathbb{C}^2$\marginpar{Si riesce anche a dire che è taut?} ultravisibile e tale che la cardinalità di $\mathcal{E}(\overline{\Omega})$ sia più che numerabile, riprendendo da \cite[Section 2]{BZ2}.

Partiamo dalla seguente definizione, che generalizza il concetto di dominio Goldilocks.

\begin{defn} \label{localgold}
    Un dominio $\Omega\subseteq\mathbb{C}^d$ si dice \textit{localmente Goldilocks} se per ogni $x\in\partial\Omega$ esiste un intorno $U$ di $x$ in $\overline{\Omega}$ tale che:
    \begin{enumerate}[label={(\arabic*)}]
        \item esiste un $\epsilon>0$ tale che $\displaystyle\int_0^\epsilon \frac{1}{r}M_{\Omega,U}(r)\diff r<+\infty$;
        \item per ogni $z_0\in\Omega$ esistono due costanti $C,\alpha>0$ (che dipendono da $z_0$ e da $U$) tali che $k_\Omega(z_0,z)\le C+\alpha\log{\dfrac{1}{\delta_\Omega(z)}}$ per ogni $z\in\Omega\cap U$.
    \end{enumerate}
\end{defn}

Dimostriamo che essere localmente Goldilocks è una condizione sufficiente affinché un dominio Kobayashi-iperbolico sia ultravisibile.

\begin{prop}
    Sia $\Omega\subseteq\mathbb{C}^d$ un dominio Kobayashi-iperbolico e localmente Goldilocks. Allora $\Omega$ è $(\lambda,\kappa)$-ultravisibile per ogni $\lambda\ge1$ e $\kappa>0$.
\end{prop}

\begin{proof}
    Fissiamo $\lambda\ge1$ e $\kappa\ge0$. Fissiamo anche $\xi,\eta\in\partial^\mathcal{E}\Omega$ e $V_\xi,V_\eta$ come nel punto 2. della Definizione \ref{ultravisibility}; diremo più avanti come sceglierli. Fissiamo un'esaustione in compatti $\{K_n\}_{n\in\mathbb{N}}$ di $\Omega$. Supponiamo per assurdo che, per ogni $n\in\mathbb{N}$, esista una $(\lambda,\kappa)$-simil-geodetica $\sigma_n:[0,T_n]\longrightarrow\Omega$ con $\sigma_n(0)\in V_\xi$, $\sigma_n(T_n)\in V_\eta$ e ${\sigma_n([0,T_n])\cap K_n=\emptyset}$.

    Per ottenere una contraddizione, dobbiamo scegliere $V_\xi$ e $V_\eta$ in modo opportuno. Se $\xi,\eta\in\partial\Omega$, basta che li prendiamo localmente compatti. Se $\xi\in\partial\Omega$ e $\eta\in\mathcal{E}(\overline{\Omega})$ (o viceversa), prendiamo un compatto $K$ di $\overline{\Omega}$ la cui parte interna contiene un intorno compatto di $\xi$; scegliamo come $V_\xi$ la parte interna di tale intorno e $V_\eta=\eta(K)$. Se $\xi,\eta\in\mathcal{E}\overline{\Omega}$, basta prendere $V_\xi=\xi(K),V_\eta=\eta(K)$ dove $K$ è un compatto sufficientemente grande.

    In tutti i casi sopra, abbiamo scelto gli intorni di modo che esista un compatto $K$ di $\overline{\Omega}$ tale che, per ogni $n\in\mathbb{N}$, deve esistere $t_n\in[0,T_n]$ per cui $\sigma_n(t_n)\in K$. A meno di sottosuccessioni, possiamo supporre $\sigma_n(t_n)\longrightarrow x_0\in\overline{\Omega}$. Poiché $\sigma_n([0,T_n])\cap K_n=\emptyset$ per ogni $n$, dev'essere $x_0\in\partial\Omega$. Sia $U$ l'intorno di $x_0$ dato dal punto (2) della Definizione \ref{localgold}, e osserviamo che lo possiamo prendere limitato. Di nuovo a meno di sottosuccessioni, possiamo trovare un intervallo $[a_n,b_n]\subseteq[0,T_n]$ contenente $t_n$ tale che:
    \begin{nlist}
        \item si ha $\sigma_n([a_n,b_n])\subseteq U$ per ogni $n\in\mathbb{N}$;
        \item si ha $\displaystyle\inf_{n\ge 1}\|\sigma_n(a_n)-\sigma_n(b_n)\|>0$;
    \end{nlist}
    possiamo imporre il punto (ii) perché $\overline{V}_\xi\cap\overline{V}_\eta=\emptyset$, per cui senza perdita di generalità $x_0\not\in\overline{V}_\xi$ e basta chiedere che $U\subseteq\overline{\Omega}\setminus\overline{V}_\xi$.

    Adesso, poiché $U$ è limitato esiste $R>0$ tale che
    \begin{equation}\label{boundiamo}
        \sigma_n([a_n,b_n])\subseteq\mathbb{B}^d_R
    \end{equation}
    per ogni $n\ge 1$. A meno di riparametrizzazioni, possiamo supporre che si abbia $0\in[a_n,b_n]$ e che
    $$\delta_\Omega\big(\sigma_n(0)\big)=\max\left\{\delta_\Omega\big(\sigma_n(t)\big)\mid t\in[a_n,b_n]\right\}.$$

    Allora, di nuovo a meno di sottosuccessioni, possiamo supporre che valgano le seguenti convergenze: $a_n\longrightarrow a\in[-\infty,0]$, $b_n\longrightarrow b\in[0,+\infty]$, $\sigma_n(a_n)\longrightarrow\xi'$ e $\sigma_n(b_n)\longrightarrow\eta'$. Per la condizione (ii) sopra, deve esistere $\epsilon>0$ tale che $\|\xi'-\eta'\|\ge\epsilon$.

    Vogliamo ora mostrare che le funzioni $\sigma_n\restrict{[a_n,b_n]}$ sono equilipschitziane rispetto alla distanza euclidea. Per il punto 1. della Definizione \ref{localgold} esiste $\delta>0$ tale che $0<M_{\Omega,U}(r)<1$ per ogni $r\in(0,\delta)$. Allora dalla definizione di $M_{\Omega,U}$ abbiamo che $K_\Omega(z;v)\ge\|v\|$ per ogni $z\in\Omega\cap U$ tale che $\delta_\Omega(z)<\delta$ e per ogni $v\in\mathbb{C}^d$. Inoltre, poiché $U\cap\{z\in\Omega\mid\delta_\Omega(z)\ge\delta\}\subset\subset\Omega$, per il punto (1) della Proposizione \ref{metrica_bilip} esiste una costante $c_0>0$ tale che $K_\Omega(z;v)\ge c_0\|v\|$ per ogni $z\in\Omega\cap U$ tale che $\delta_\Omega(z)\le\delta$ e per ogni $v\in\mathbb{C}^d$. Ponendo $c=\min\{1,c_0\}$ e dati $s,t\in[a_n,b_n]$, si ha dunque che
    \begin{align*}
        \|\sigma_n(t)-\sigma_n(s)\|&=\left\|\int_s^t \sigma_n'(r)\diff r\right\| \le \int_s^t \|\sigma_n'(r)\|\diff r\\
        &\le \int_s^t \frac{1}{c}K_\Omega\big(\sigma_n(r);\sigma_n'(r)\big)\diff r\le \frac{\lambda}{c}|s-t|,
    \end{align*}
    dove la penultima disuguaglianza segue da quanto trovato sopra e l'ultima dalla definizione di simil-geodetica.

    Dall'equilipschitziane e dall'equilimitatezza data da \eqref{boundiamo}, per il teorema di Ascoli-Arzelà, sempre a meno di sottosuccessioni, abbiamo che $\sigma_n\restrict{(a_n,b_n)}$ converge uniformemente sui compatti di $(a,b)$ a una curva $\sigma:(a,b)\longrightarrow\overline{\Omega}$. Per l'equilipschitzianità (sugli $[a_n,b_n]$) si ha $0<\|\xi'-\eta'\|\le \dfrac{\lambda}{c}|b-a|$, per cui $a\not=b$. Come fatto nella dimostrazione del Teorema \ref{extvis}, si può mostrare che $\sigma$ non è costante.

    Adesso ricordiamo che $\delta_\Omega\big(\sigma_n(t)\big)\le\delta_\Omega\big(\sigma_n(0)\big)$ per ogni $t\in[a_n,b_n]$, e che $\sigma_n([a_n,b_n])\subseteq U$. Quindi
    $$M_{\Omega,U}\Big(\delta_\Omega\big(\sigma_n(t)\big)\Big) \le M_{\Omega,U}\Big(\delta_\Omega\big(\sigma_n(0)\big)\Big),$$
    allora il membro sinistro di questa disuguaglianza tende a $0$ uniformemente in $t$ per $n\longrightarrow+\infty$. Dati dunque $s,u\in(a,b)$ con $s\le u$, abbiamo che
    \begin{align*}
        \|\sigma(s)-\sigma(u)\|&=\lim_{n\longrightarrow+\infty}\|\sigma_n(s)-\sigma_n(u)\| \le \limsup_{n\longrightarrow+\infty}\int_s^u\|\sigma_n'(t)\|\diff t \\
        &\le \lambda\limsup_{n\longrightarrow+\infty}\int_s^uM_{\Omega,U}\Big(\delta_\Omega\big(\sigma_n(t)\big)\Big)\diff t=0,
    \end{align*}
    dove l'ultima disuguaglianza si ha perché $\|\sigma_n'(t)\|\le\lambda M_{\Omega,U}\Big(\delta_\Omega\big(\sigma_n(t)\big)\Big)$ per ogni $n\in\mathbb{N}$, dalle definizioni. Dunque $\sigma$ è costante, contraddizione.
\end{proof}

Prima di procedere con la costruzione del dominio in $\mathbb{C}^2$, dobbiamo costruire un esempio in $\mathbb{C}$.

\begin{defn}
    Un \textit{cono circolare aperto con apertura $\theta$} è un aperto di $\mathbb{C}^d$ della forma
    $$\Gamma(v,\theta):=\{z\in\mathbb{C}^d\mid \mathfrak{Re}\langle z,v\rangle>\cos(\theta/2)\|z\|\},$$
    dove $v$ è un vettore unitario di $\mathbb{C}^d$ e $\theta\in(0,\pi)$. Per ogni punto $p\in\mathbb{C}^d$, l'\textit{asse} del cono traslato $p+\Gamma(v,\theta)$ è l'insieme $\{p+tv\mid t>0\}$.
\end{defn}

\begin{defn}
    Sia $\Omega$ un dominio di $\mathbb{C}^d$. Diciamo che $\Omega$ soddisfa una \textit{condizione di cono interno} se per ogni $R>0$ esistono due costanti $r>0$ e $\theta\in(0,\pi)$, e un compatto $K\subseteq\Omega$, tali che per ogni $x\in(\Omega\setminus K)\cap\mathbb{B}^d_R$ esistono un punto $\xi_x\in\partial\Omega$ e un vettore unitario $v_x$ tali che:
    \begin{itemize}
        \item il punto $x$ appartiene all'asse del cono traslato $\xi_x+\Gamma(v_x,\theta)$;
        \item si ha $\big(\xi_x+\Gamma(v_x,\theta)\big)\cap (\xi_x+\mathbb{B}^d_r)\subseteq\Omega$.
    \end{itemize}
\end{defn}

\begin{defn}
    Sia $\Omega$ un dominio di $\mathbb{C}^d$. Diciamo che $\Omega$ soddisfa una \textit{condizione di cono esterno} se per ogni $R>0$ esistono due costanti $r>0$ e $\theta\in(0,\pi)$, e un compatto $K\subseteq\Omega$, tali che per ogni $\xi\in\partial\Omega\cap\mathbb{B}^d_R$ esiste un vettore unitario $v_\xi$ tale che
    $$\big(\xi+\Gamma(v_\xi,\theta)\big)\cap (\xi+\mathbb{B}^d_r)\subseteq\mathbb{C}^d\setminus\Omega.$$
\end{defn}

\begin{lm} \label{conin}
    Sia $\Omega$ un dominio di $\mathbb{C}^d$ che soddisfa una condizione di cono interno. Allora $\Omega$ soddisfa la condizione (2) nella definizione di dominio localmente Goldilocks.\marginpar{SCRIVERE LA DIMOSTRAZIONE}
\end{lm}

\begin{proof}
    DA SCRIVERE.
\end{proof}

\begin{lm} \label{cones}
    Sia $\Omega\subsetneq\mathbb{C}$ un dominio che soddisfa una condizione di cono esterno. Allora, per ogni $R>0$, esiste $c>0$ tale che per ogni $z\in\Omega\cap\mathbb{D}_R$ e per ogni $v\in\mathbb{C}$ si ha
    $$K_\Omega(z;v) \ge \frac{c|v|}{\delta_\Omega(z)}.$$
\end{lm}

\begin{proof}
    Consideriamo prima il caso in cui $\mathbb{D}_{2R}\subseteq\Omega$. Allora $\overline{\mathbb{B}_R}\subseteq\Omega$ è compatto; dunque, per il punto (1) della Proposizione \ref{metrica_bilip}, esiste una costante $c_0>0$ tale che $K_\Omega(z;v)\ge c_0|v|$ per ogni $z\in \overline{\mathbb{B}_R}$ e per ogni $v\in\mathbb{C}$. Poiché in questo caso $\delta_\Omega(z)\le R$, la tesi segue.

    Supponiamo ora che $\mathbb{B}_{2R}\not\subseteq\Omega$. Fissiamo $z\in\Omega\cap\mathbb{B}_R$, e sia $x\in\partial\Omega$ tale che $|z-x|=\delta_\Omega(z)$. Dev'essere $|x|\le 4R$. Per la condizione di cono esterno, esistono $\theta\in(0,\pi)$ e $r>0$ e un vettore unitario $u$ tali che
    $$\big(x+\Gamma(u,\theta)\big)\cap D(x,r) \subseteq\mathbb{C}\setminus\Omega;$$
    inoltre, possiamo scegliere $\theta$ e $r$ che dipendano solo da $R$.

    Poniamo $t:=\min\{\delta_\Omega(z),r/2\}$ e $w:=x+tu$. Allora esiste $0<c_1<2$, dipendente solo da $r$ e $\theta$ (quindi solo da $R$), tale che
    \begin{equation}\label{troppeeq}
        \delta_{\mathbb{C}\setminus\Omega}(w)\ge c_1\delta_\Omega(z).
    \end{equation}

    Con questa scelta di $c_1$ abbiamo che $c_1\delta_\Omega(z)<|z-w|\le 2\delta_\Omega(z)$, e che ${D\big(w,\delta_\Omega(z)\big)\subseteq\mathbb{C}\setminus\Omega}$. Consideriamo ora la funzione olomorfa $f:\Omega\longrightarrow\mathbb{D}$ data da
    $$f(\zeta)=\frac{c_1\delta_\Omega(z)}{\zeta-w}$$
    per ogni $\zeta\in\Omega$; che $f$ abbia valori in $\mathbb{D}$ segue dalla \eqref{troppeeq}. Allora, per la Proposizione \ref{metrdecr}, si ha\marginpar{$K_\mathbb{D}=\lambda_\mathbb{D}$?}
    \begin{align*}
        K_\Omega(z;v) &\ge K_{\mathbb{D}}\big(f(z);f'(z)v\big)=\frac{|f'(z)||v|}{1-|f(z)|^2} \ge \frac{1}{2}\cdot\frac{|f'(z)||v|}{1-|f(z)|}\\
        &=\frac{1}{2}\cdot\frac{1}{|z-w|-c_1\delta_\Omega(z)}\cdot\frac{c_1\delta_\Omega(z)}{|z-w|}|v|\\
        &\ge \frac{1}{2}\cdot\frac{1}{2\delta_\Omega(z)-c_1\delta_\Omega(z)}\cdot\frac{c_1\delta_\Omega(z)}{2\delta_\Omega(z)}|v|=\frac{c_1}{4(2-c_1)\delta_\Omega(z)}|v|.
    \end{align*}

    Dato che $c_1$ dipende solo da $R$ e non da $z$, abbiamo concluso.
\end{proof}

\begin{defn}
    Sia $\Omega\subseteq\mathbb{C}^d$ un dominio. Diciamo che $\Omega$ è un \textit{dominio lipschitziano} (rispettivamente, \textit{dominio $C^0$}) se per ogni $x\in\partial\Omega$ esistono un intorno $U_x$ di $x$, un cambio di coordinate unitarie centrato in $x$ e una funzione lipschitziana (rispettivamente, una funzione continua) $\varphi_x$, definita in un qualche intorno aperto dell'origine in $\mathbb{C}^{d-1}\times\mathbb{R}$, tali che, se $w=(w_1,\dots,w_n)$ sono le suddette coordinate e $W_x$ è l'immagine di $U_x$ tramite esse, allora $U_x\cap\Omega$ in coordinate è dato da
    $$\{w\in W_x\mid \mathfrak{Im}w_n>\varphi_x(w_1,\dots,w_{n-1},\mathfrak{Re}w_n)\}.$$
\end{defn}

\begin{prop} \label{lipislocgold}
    Sia $\Omega\subsetneq\mathbb{C}$ un dominio lipschitziano. Allora $\Omega$ è localmente Goldilocks.
\end{prop}

\begin{proof}
    È facile\marginpar{È davvero così facile?} verificare che un dominio lipschitziano soddisfa sia la condizione di cono interno che la condizione di cono esterno. La tesi segue dunque dai Lemmi \ref{conin} e \ref{cones}.
\end{proof}

È facile costruire un esempio di dominio illimitato $\Omega\subsetneq\mathbb{C}$ che soddisfi le ipotesi della Proposizione \ref{lipislocgold} e tale che $\mathcal{E}(\overline{\Omega})$ abbia cardinalità più che numerabile: per esempio, possiamo immergere l'albero binario infinito in $\mathbb{C}$, e considerarne un intorno $\Omega$ sufficientemente piccolo tale che $\partial\Omega$ sia localmente unione finita di curve lisce. In tal modo, $\overline{\Omega}$ è localmente connesso e $\Omega$ è semplicemente connesso, per cui biolomorfo a $\mathbb{D}$ e di conseguenza taut; dunque soddisfa le ipotesi del Teorema \ref{wd_type_ill}. È facile però notare che, in questo caso, otteniamo soltanto una versione modificata e più debole del teorema di Wolff-Denjoy.

Passiamo ora a costruire l'esempio in $\mathbb{C}^2$.